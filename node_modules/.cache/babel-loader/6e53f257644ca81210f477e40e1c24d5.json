{"ast":null,"code":"export default class SequentialIDGenerator {\n  constructor(prefix = \"\") {\n    // ensure start with \"ae\" so \"ad\" is never produced\n    this.prefix = prefix;\n    this.count = 0;\n    this.offset = 374;\n    this.msb = 1295;\n    this.power = 2;\n  }\n  next() {\n    const id = this.increment().toString(36);\n    return this.prefix ? `${this.prefix}${id}` : id;\n  }\n  increment() {\n    const id = this.count + this.offset;\n    if (id === this.msb) {\n      this.offset += (this.msb + 1) * 9;\n      this.msb = Math.pow(36, ++this.power) - 1;\n    }\n    this.count++;\n    return id;\n  }\n}","map":{"version":3,"sources":["src/sequential-id-generator.ts"],"names":["SequentialIDGenerator","constructor","prefix","count","offset","msb","power","next","id","increment","toString","Math","pow"],"mappings":"AAAA,eAAe,MAAMA,qBAAN,CAA4B;EAOzCC,WAAW,CAACC,MAAc,GAAG,EAAlB,EAAsB;IAC/B;IACA,IAAA,CAAKA,MAAL,GAAcA,MAAd;IACA,IAAA,CAAKC,KAAL,GAAa,CAAb;IACA,IAAA,CAAKC,MAAL,GAAc,GAAd;IACA,IAAA,CAAKC,GAAL,GAAW,IAAX;IACA,IAAA,CAAKC,KAAL,GAAa,CAAb;EACD;EAEDC,IAAI,CAAA,EAAG;IACL,MAAMC,EAAE,GAAG,IAAA,CAAKC,SAAL,CAAA,CAAA,CAAiBC,QAAjB,CAA0B,EAA1B,CAAX;IACA,OAAO,IAAA,CAAKR,MAAL,GAAe,GAAE,IAAA,CAAKA,MAAO,GAAEM,EAAG,EAAlC,GAAsCA,EAA7C;EACD;EAEDC,SAAS,CAAA,EAAG;IACV,MAAMD,EAAE,GAAG,IAAA,CAAKL,KAAL,GAAa,IAAA,CAAKC,MAA7B;IACA,IAAII,EAAE,KAAK,IAAA,CAAKH,GAAhB,EAAqB;MACnB,IAAA,CAAKD,MAAL,IAAe,CAAC,IAAA,CAAKC,GAAL,GAAW,CAAZ,IAAiB,CAAhC;MACA,IAAA,CAAKA,GAAL,GAAWM,IAAI,CAACC,GAALD,CAAS,EAATA,EAAa,EAAE,IAAA,CAAKL,KAApBK,CAAAA,GAA6B,CAAxC;IACD;IACD,IAAA,CAAKR,KAAL,EAAA;IACA,OAAOK,EAAP;EACD;AA7BwC","sourcesContent":["export default class SequentialIDGenerator {\n  prefix: string;\n  count: number;\n  offset: number;\n  msb: number;\n  power: number;\n\n  constructor(prefix: string = \"\") {\n    // ensure start with \"ae\" so \"ad\" is never produced\n    this.prefix = prefix;\n    this.count = 0;\n    this.offset = 374;\n    this.msb = 1295;\n    this.power = 2;\n  }\n\n  next() {\n    const id = this.increment().toString(36);\n    return this.prefix ? `${this.prefix}${id}` : id;\n  }\n\n  increment() {\n    const id = this.count + this.offset;\n    if (id === this.msb) {\n      this.offset += (this.msb + 1) * 9;\n      this.msb = Math.pow(36, ++this.power) - 1;\n    }\n    this.count++;\n    return id;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}